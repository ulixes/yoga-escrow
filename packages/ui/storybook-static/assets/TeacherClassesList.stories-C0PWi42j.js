import{j as e}from"./jsx-runtime-CDt2p4po.js";import{r as m}from"./index-GiUgBvb1.js";import{U as Oe}from"./UpcomingClassCard-1cdcZa-V.js";function Ge(a){const s=new Date(a*1e3),i=s.toLocaleDateString("en-US",{weekday:"long"}),l=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),o=s.toLocaleDateString("en-US",{month:"short",day:"numeric"});return`${i}, ${o} at ${l}`}function Re(a){return`${a.slice(0,6)}...${a.slice(-4)}`}const fe=({opportunity:a,isOpen:s,onClose:i,onAcceptOpportunity:l,onAcceptGroup:o,fiatCurrency:d="USD",ethToFiatRate:v,formatFiat:c})=>{if(!s||!a)return null;const y=n=>{if(!v)return null;const u=n*v;return c?c(u,d):new Intl.NumberFormat(void 0,{style:"currency",currency:d}).format(u)},H=n=>{n.target===n.currentTarget&&i()};return e.jsx("div",{className:"opportunity-details-modal__backdrop",onClick:H,children:e.jsxs("div",{className:"opportunity-details-modal",children:[e.jsxs("div",{className:"opportunity-details-modal__header",children:[e.jsxs("div",{className:"opportunity-details-modal__title-section",children:[a.isGroup&&e.jsx("div",{className:"opportunity-details-modal__group-badge",children:"GROUP OPPORTUNITY"}),e.jsx("h2",{className:"opportunity-details-modal__title",children:a.isGroup?"Group Class Details":"Class Details"}),e.jsx("p",{className:"opportunity-details-modal__subtitle",children:Ge(a.proposedTime)})]}),e.jsx("button",{className:"opportunity-details-modal__close",onClick:i,children:"×"})]}),e.jsxs("div",{className:"opportunity-details-modal__content",children:[e.jsxs("div",{className:"opportunity-details-modal__overview",children:[e.jsxs("div",{className:"opportunity-details-modal__overview-item",children:[e.jsx("span",{className:"opportunity-details-modal__label",children:"Location:"}),e.jsx("span",{className:"opportunity-details-modal__value",children:a.location})]}),e.jsxs("div",{className:"opportunity-details-modal__overview-item",children:[e.jsx("span",{className:"opportunity-details-modal__label",children:"Students:"}),e.jsx("span",{className:"opportunity-details-modal__value",children:a.studentCount})]}),e.jsxs("div",{className:"opportunity-details-modal__overview-item",children:[e.jsx("span",{className:"opportunity-details-modal__label",children:"Total Payout:"}),e.jsxs("span",{className:"opportunity-details-modal__value",children:[a.totalPayout," ETH",y(parseFloat(a.totalPayout))&&e.jsxs("span",{className:"opportunity-details-modal__fiat",children:["(",y(parseFloat(a.totalPayout)),")"]})]})]})]}),e.jsxs("div",{className:"opportunity-details-modal__students",children:[e.jsx("h3",{className:"opportunity-details-modal__section-title",children:a.isGroup?"Students in Group":"Student Details"}),e.jsx("div",{className:"opportunity-details-modal__student-list",children:a.opportunities.map((n,u)=>e.jsxs("div",{className:"opportunity-details-modal__student-card",children:[e.jsxs("div",{className:"opportunity-details-modal__student-header",children:[e.jsxs("h4",{className:"opportunity-details-modal__student-title",children:["Student ",u+1]}),e.jsx("div",{className:"opportunity-details-modal__student-address",children:Re(n.studentAddress)})]}),e.jsxs("div",{className:"opportunity-details-modal__student-details",children:[e.jsxs("div",{className:"opportunity-details-modal__student-detail",children:[e.jsx("span",{className:"opportunity-details-modal__detail-label",children:"Payout:"}),e.jsxs("span",{className:"opportunity-details-modal__detail-value",children:[n.payout," ETH",y(parseFloat(n.payout))&&e.jsxs("span",{className:"opportunity-details-modal__detail-fiat",children:["(",y(parseFloat(n.payout)),")"]})]})]}),e.jsxs("div",{className:"opportunity-details-modal__student-detail",children:[e.jsx("span",{className:"opportunity-details-modal__detail-label",children:"Escrow ID:"}),e.jsxs("span",{className:"opportunity-details-modal__detail-value",children:["#",n.escrowId]})]}),e.jsxs("div",{className:"opportunity-details-modal__student-detail",children:[e.jsx("span",{className:"opportunity-details-modal__detail-label",children:"Time Slot:"}),e.jsxs("span",{className:"opportunity-details-modal__detail-value",children:["Index ",n.timeIndex]})]})]}),!a.isGroup&&e.jsx("div",{className:"opportunity-details-modal__student-actions",children:e.jsx("button",{className:"opportunity-details-modal__action opportunity-details-modal__action--accept",onClick:()=>l==null?void 0:l(n.opportunityId,n.escrowId,n.timeIndex),children:"Accept This Class"})})]},n.opportunityId))})]})]}),e.jsxs("div",{className:"opportunity-details-modal__footer",children:[e.jsx("button",{className:"opportunity-details-modal__action opportunity-details-modal__action--secondary",onClick:i,children:"Close"}),a.isGroup&&e.jsxs("button",{className:"opportunity-details-modal__action opportunity-details-modal__action--accept",onClick:()=>o==null?void 0:o(a.groupKey),children:["Accept All Students (",a.studentCount,")"]})]})]})})};fe.__docgenInfo={description:"",methods:[],displayName:"OpportunityDetailsModal",props:{opportunity:{required:!0,tsType:{name:"union",raw:"GroupedOpportunity | null",elements:[{name:"GroupedOpportunity"},{name:"null"}]},description:""},isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAcceptOpportunity:{required:!1,tsType:{name:"signature",type:"function",raw:"(opportunityId: string, escrowId: number, timeIndex: number) => void",signature:{arguments:[{type:{name:"string"},name:"opportunityId"},{type:{name:"number"},name:"escrowId"},{type:{name:"number"},name:"timeIndex"}],return:{name:"void"}}},description:""},onAcceptGroup:{required:!1,tsType:{name:"signature",type:"function",raw:"(groupKey: string) => void",signature:{arguments:[{type:{name:"string"},name:"groupKey"}],return:{name:"void"}}},description:""},fiatCurrency:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'USD'",computed:!1}},ethToFiatRate:{required:!1,tsType:{name:"number"},description:""},formatFiat:{required:!1,tsType:{name:"signature",type:"function",raw:"(fiatAmount: number, currency: string) => string",signature:{arguments:[{type:{name:"number"},name:"fiatAmount"},{type:{name:"string"},name:"currency"}],return:{name:"string"}}},description:""}}};function $(a){const s=new Date(a*1e3),i=s.toLocaleDateString("en-US",{weekday:"long"}),l=s.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});return`${i} ${l}`}const ve=({opportunities:a=[],upcomingClasses:s=[],classHistory:i=[],teacherHandle:l,onAcceptOpportunity:o,onAcceptGroup:d,onViewDetails:v,onViewClassDetails:c,onViewStudentDetails:y,onCancelClass:H,fiatCurrency:n="USD",ethToFiatRate:u,formatFiat:T,className:Te,initialFilter:Ne="all",initialSort:je="newest",initialTab:be="upcoming"})=>{const[N,Se]=m.useState(Ne),[j,we]=m.useState(je),[b,Ce]=m.useState(be),[ke,q]=m.useState(null),[Ie,V]=m.useState(!1),Ae=t=>{q(t),V(!0)},De=()=>{V(!1),q(null)},_=m.useMemo(()=>{const t=Array.isArray(a)?a:[];let r=t;N==="high-value"?r=t.filter(p=>parseFloat(p.totalPayout)>=.005):N==="group-classes"&&(r=t.filter(p=>p.isGroup));const g=[...r];return j==="amount"?g.sort((p,x)=>parseFloat(x.totalPayout)-parseFloat(p.totalPayout)):j==="earliest-class"?g.sort((p,x)=>p.proposedTime-x.proposedTime):g.sort((p,x)=>{const He=Math.min(...p.opportunities.map(R=>R.createdAt));return Math.min(...x.opportunities.map(R=>R.createdAt))-He})},[a,N,j]),O=m.useMemo(()=>{const t=Array.isArray(a)?a:[];return{all:t.length,"high-value":t.filter(r=>parseFloat(r.totalPayout)>=.005).length,"group-classes":t.filter(r=>r.isGroup).length}},[a]);m.useMemo(()=>_.reduce((t,r)=>t+parseFloat(r.totalPayout),0).toFixed(4),[_]);const G=m.useMemo(()=>(Array.isArray(s)?s:[]).filter(r=>r.status==="accepted").sort((r,g)=>r.classTime-g.classTime),[s]),Fe=["teacher-classes-list",Te].filter(Boolean).join(" "),Me=[{key:"upcoming",label:"Upcoming Classes",count:G.length},{key:"opportunities",label:"New Opportunities",count:_.length},{key:"history",label:"Class History",count:i.length}],Pe=[{key:"all",label:"All Opportunities",count:O.all},{key:"high-value",label:"High Value (≥0.005 ETH)",count:O["high-value"]},{key:"group-classes",label:"Group Classes",count:O["group-classes"]}],Ue=[{key:"newest",label:"Newest First"},{key:"amount",label:"Highest Payout"},{key:"earliest-class",label:"Earliest Time"}],S=t=>{if(!u)return null;const r=t*u;return T?T(r,n):new Intl.NumberFormat(void 0,{style:"currency",currency:n}).format(r)};return e.jsxs("div",{className:Fe,children:[e.jsx("div",{className:"teacher-classes-list__header",children:e.jsx("div",{className:"teacher-classes-list__title-section",children:e.jsxs("h1",{className:"teacher-classes-list__title",children:["Teacher Dashboard - ",l]})})}),e.jsx("div",{className:"teacher-classes-list__tabs",children:Me.map(t=>e.jsxs("button",{className:`teacher-classes-list__tab ${b===t.key?"teacher-classes-list__tab--active":""}`,onClick:()=>Ce(t.key),children:[t.label,typeof t.count=="number"&&e.jsxs("span",{className:"teacher-classes-list__tab-count",children:["(",t.count,")"]})]},t.key))}),e.jsxs("div",{className:"teacher-classes-list__tab-content",children:[b==="upcoming"&&e.jsx("div",{className:"teacher-classes-list__upcoming-content",children:G.length===0?e.jsx("div",{className:"teacher-classes-list__empty",children:e.jsxs("div",{className:"teacher-classes-list__empty-state",children:[e.jsx("h3",{className:"teacher-classes-list__empty-title",children:"No upcoming classes"}),e.jsx("p",{className:"teacher-classes-list__empty-text",children:"When you accept class opportunities, they'll appear here."})]})}):e.jsx("div",{className:"teacher-classes-list__upcoming-grid",children:G.map(t=>e.jsx(Oe,{acceptedClass:t,onViewDetails:c,onViewStudentDetails:y,onCancel:H,fiatCurrency:n,ethToFiatRate:u,formatFiat:T},t.escrowId))})}),b==="history"&&e.jsx("div",{className:"teacher-classes-list__history-content",children:i.length===0?e.jsx("div",{className:"teacher-classes-list__empty",children:e.jsxs("div",{className:"teacher-classes-list__empty-state",children:[e.jsx("h3",{className:"teacher-classes-list__empty-title",children:"No class history"}),e.jsx("p",{className:"teacher-classes-list__empty-text",children:"Completed and cancelled classes will appear here."})]})}):e.jsx("div",{className:"teacher-classes-list__history-grid",children:i.sort((t,r)=>r.classTime-t.classTime).map(t=>e.jsxs("div",{className:"teacher-history-card",children:[e.jsxs("div",{className:"teacher-history-card__header",children:[e.jsx("div",{className:`teacher-history-card__status teacher-history-card__status--${t.status}`,children:t.status==="completed"?"Completed":"Cancelled"}),e.jsx("div",{className:"teacher-history-card__date",children:$(t.classTime)})]}),e.jsxs("div",{className:"teacher-history-card__details",children:[e.jsx("div",{className:"teacher-history-card__location",children:t.location}),e.jsx("div",{className:"teacher-history-card__description",children:t.description}),e.jsxs("div",{className:"teacher-history-card__payout",children:[t.payout," ETH",S(parseFloat(t.payout))&&e.jsxs("span",{className:"teacher-history-card__fiat",children:[" (",S(parseFloat(t.payout)),")"]})]})]}),e.jsx("div",{className:"teacher-history-card__actions",children:e.jsx("button",{className:"teacher-history-card__action",onClick:()=>c==null?void 0:c(t.escrowId),children:"View Details"})})]},t.escrowId))})}),b==="opportunities"&&e.jsxs("div",{className:"teacher-classes-list__opportunities-content",children:[e.jsxs("div",{className:"teacher-classes-list__opportunity-controls",children:[e.jsx("div",{className:"teacher-classes-list__filters",children:Pe.map(t=>e.jsxs("button",{className:`teacher-classes-list__filter ${N===t.key?"teacher-classes-list__filter--active":""}`,onClick:()=>Se(t.key),children:[t.label," (",t.count,")"]},t.key))}),e.jsxs("div",{className:"teacher-classes-list__sort",children:[e.jsx("label",{htmlFor:"teacher-sort-select",className:"teacher-classes-list__sort-label",children:"Sort:"}),e.jsx("select",{id:"teacher-sort-select",value:j,onChange:t=>we(t.target.value),className:"teacher-classes-list__sort-select",children:Ue.map(t=>e.jsx("option",{value:t.key,children:t.label},t.key))})]})]}),_.length===0?e.jsx("div",{className:"teacher-classes-list__empty",children:a.length===0?e.jsxs("div",{className:"teacher-classes-list__empty-state",children:[e.jsx("h3",{className:"teacher-classes-list__empty-title",children:"No class opportunities yet"}),e.jsxs("p",{className:"teacher-classes-list__empty-text",children:["When students create escrows with your handle ",e.jsx("strong",{children:l}),", opportunities will appear here."]})]}):e.jsxs("div",{className:"teacher-classes-list__no-results",children:[e.jsx("h3",{className:"teacher-classes-list__no-results-title",children:"No opportunities match your filters"}),e.jsx("p",{className:"teacher-classes-list__no-results-text",children:"Try adjusting your filter settings."})]})}):e.jsx("div",{className:"teacher-classes-list__grid",children:_.map(t=>e.jsxs("div",{className:"teacher-opportunity-card",children:[e.jsxs("div",{className:"teacher-opportunity-card__header",children:[t.isGroup&&e.jsx("div",{className:"teacher-opportunity-card__group-badge",children:"GROUP OPPORTUNITY"}),e.jsxs("h3",{className:"teacher-opportunity-card__title",children:[t.isGroup?"Group Class":"Private Class"," - ",$(t.proposedTime)]})]}),e.jsxs("div",{className:"teacher-opportunity-card__details",children:[e.jsxs("div",{className:"teacher-opportunity-card__meta",children:[e.jsxs("span",{className:"teacher-opportunity-card__students",children:[t.studentCount," student",t.studentCount>1?"s":""]}),e.jsx("span",{className:"teacher-opportunity-card__separator",children:"•"}),e.jsxs("span",{className:"teacher-opportunity-card__payout",children:[t.totalPayout," ETH",S(parseFloat(t.totalPayout))&&e.jsxs("span",{className:"teacher-opportunity-card__fiat",children:[" (",S(parseFloat(t.totalPayout)),")"]})]})]}),e.jsxs("div",{className:"teacher-opportunity-card__location",children:[e.jsx("span",{className:"teacher-opportunity-card__detail-label",children:"Location:"}),e.jsx("span",{className:"teacher-opportunity-card__detail-value",children:t.location})]})]}),e.jsxs("div",{className:"teacher-opportunity-card__actions",children:[e.jsx("button",{className:"teacher-opportunity-card__action teacher-opportunity-card__action--details",onClick:()=>Ae(t),children:"View Details"}),t.isGroup?e.jsxs("button",{className:"teacher-opportunity-card__action teacher-opportunity-card__action--accept",onClick:()=>d==null?void 0:d(t.groupKey),children:["Accept Group (",t.studentCount,")"]}):e.jsx("button",{className:"teacher-opportunity-card__action teacher-opportunity-card__action--accept",onClick:()=>{const r=t.opportunities[0];o==null||o(r.opportunityId,r.escrowId,r.timeIndex)},children:"Accept Class"})]})]},t.groupKey))})]})]}),e.jsx(fe,{opportunity:ke,isOpen:Ie,onClose:De,onAcceptOpportunity:o,onAcceptGroup:d,fiatCurrency:n,ethToFiatRate:u,formatFiat:T})]})};ve.__docgenInfo={description:"",methods:[],displayName:"TeacherClassesList",props:{opportunities:{required:!1,tsType:{name:"Array",elements:[{name:"GroupedOpportunity"}],raw:"GroupedOpportunity[]"},description:"",defaultValue:{value:"[]",computed:!1}},upcomingClasses:{required:!1,tsType:{name:"Array",elements:[{name:"AcceptedClass"}],raw:"AcceptedClass[]"},description:"",defaultValue:{value:"[]",computed:!1}},classHistory:{required:!1,tsType:{name:"Array",elements:[{name:"AcceptedClass"}],raw:"AcceptedClass[]"},description:"",defaultValue:{value:"[]",computed:!1}},teacherHandle:{required:!0,tsType:{name:"string"},description:""},onAcceptOpportunity:{required:!1,tsType:{name:"signature",type:"function",raw:"(opportunityId: string, escrowId: number, timeIndex: number) => void",signature:{arguments:[{type:{name:"string"},name:"opportunityId"},{type:{name:"number"},name:"escrowId"},{type:{name:"number"},name:"timeIndex"}],return:{name:"void"}}},description:""},onAcceptGroup:{required:!1,tsType:{name:"signature",type:"function",raw:"(groupKey: string) => void",signature:{arguments:[{type:{name:"string"},name:"groupKey"}],return:{name:"void"}}},description:""},onViewDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(opportunity: GroupedOpportunity) => void",signature:{arguments:[{type:{name:"GroupedOpportunity"},name:"opportunity"}],return:{name:"void"}}},description:""},onViewClassDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(escrowId: number) => void",signature:{arguments:[{type:{name:"number"},name:"escrowId"}],return:{name:"void"}}},description:""},onViewStudentDetails:{required:!1,tsType:{name:"signature",type:"function",raw:"(escrowId: number) => void",signature:{arguments:[{type:{name:"number"},name:"escrowId"}],return:{name:"void"}}},description:""},onCancelClass:{required:!1,tsType:{name:"signature",type:"function",raw:"(escrowId: number) => void",signature:{arguments:[{type:{name:"number"},name:"escrowId"}],return:{name:"void"}}},description:""},fiatCurrency:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'USD'",computed:!1}},ethToFiatRate:{required:!1,tsType:{name:"number"},description:""},formatFiat:{required:!1,tsType:{name:"signature",type:"function",raw:"(fiatAmount: number, currency: string) => string",signature:{arguments:[{type:{name:"number"},name:"fiatAmount"},{type:{name:"string"},name:"currency"}],return:{name:"string"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},initialFilter:{required:!1,tsType:{name:"union",raw:"'all' | 'high-value' | 'group-classes'",elements:[{name:"literal",value:"'all'"},{name:"literal",value:"'high-value'"},{name:"literal",value:"'group-classes'"}]},description:"",defaultValue:{value:"'all'",computed:!1}},initialSort:{required:!1,tsType:{name:"union",raw:"'newest' | 'amount' | 'earliest-class'",elements:[{name:"literal",value:"'newest'"},{name:"literal",value:"'amount'"},{name:"literal",value:"'earliest-class'"}]},description:"",defaultValue:{value:"'newest'",computed:!1}},initialTab:{required:!1,tsType:{name:"union",raw:"'upcoming' | 'opportunities' | 'history'",elements:[{name:"literal",value:"'upcoming'"},{name:"literal",value:"'opportunities'"},{name:"literal",value:"'history'"}]},description:"",defaultValue:{value:"'upcoming'",computed:!1}}}};const Le={title:"Teacher/TeacherClassesList",component:ve,parameters:{layout:"fullscreen"},tags:["autodocs"],argTypes:{onAcceptOpportunity:{action:"acceptOpportunity"},onAcceptGroup:{action:"acceptGroup"},onViewDetails:{action:"viewDetails"},onViewClassDetails:{action:"viewClassDetails"},onCancelClass:{action:"cancelClass"}}},f=()=>{const a=Math.floor(Date.now()/1e3);return[{escrowId:201,studentAddress:"0xStudent101",classTime:a+3600,location:"Vake Park, Tbilisi",description:"Morning Vinyasa Flow",payout:"0.003",acceptedAt:a-7200,status:"accepted"},{escrowId:202,studentAddress:"0xStudent102",classTime:a+86400,location:"Rustaveli Studio",description:"Power Yoga Session",payout:"0.0025",acceptedAt:a-3600,status:"accepted"},{escrowId:203,studentAddress:"0xStudent103",classTime:a+172800,location:"Saburtalo Center",description:"Beginner Hatha Yoga",payout:"0.004",acceptedAt:a-1800,status:"accepted"}]},h=()=>{const a=Math.floor(Date.now()/1e3);return[{groupKey:"Vake Park-"+(a+86400),location:"Vake Park, Tbilisi",proposedTime:a+86400,totalPayout:"0.006",studentCount:2,isGroup:!0,opportunities:[{opportunityId:"101-teacherX-0",escrowId:101,studentAddress:"0xStudent1",location:"Vake Park, Tbilisi",proposedTime:a+86400,timeIndex:0,payout:"0.003",teacherHandle:"teacherX",createdAt:a-3600},{opportunityId:"102-teacherX-1",escrowId:102,studentAddress:"0xStudent2",location:"Vake Park, Tbilisi",proposedTime:a+86400,timeIndex:1,payout:"0.003",teacherHandle:"teacherX",createdAt:a-1800}]},{groupKey:"Rustaveli Studio-"+(a+172800),location:"Rustaveli Studio",proposedTime:a+172800,totalPayout:"0.0025",studentCount:1,isGroup:!1,opportunities:[{opportunityId:"103-teacherX-0",escrowId:103,studentAddress:"0xStudent3",location:"Rustaveli Studio",proposedTime:a+172800,timeIndex:0,payout:"0.0025",teacherHandle:"teacherX",createdAt:a-900}]},{groupKey:"Saburtalo Center-"+(a+259200),location:"Saburtalo Center",proposedTime:a+259200,totalPayout:"0.012",studentCount:3,isGroup:!0,opportunities:[{opportunityId:"104-teacherX-2",escrowId:104,studentAddress:"0xStudent4",location:"Saburtalo Center",proposedTime:a+259200,timeIndex:2,payout:"0.004",teacherHandle:"teacherX",createdAt:a-2700},{opportunityId:"105-teacherX-0",escrowId:105,studentAddress:"0xStudent5",location:"Saburtalo Center",proposedTime:a+259200,timeIndex:0,payout:"0.004",teacherHandle:"teacherX",createdAt:a-1200},{opportunityId:"106-teacherX-1",escrowId:106,studentAddress:"0xStudent6",location:"Saburtalo Center",proposedTime:a+259200,timeIndex:1,payout:"0.004",teacherHandle:"teacherX",createdAt:a-600}]},{groupKey:"Old Tbilisi-"+(a+345600),location:"Old Tbilisi",proposedTime:a+345600,totalPayout:"0.008",studentCount:1,isGroup:!1,opportunities:[{opportunityId:"107-teacherX-0",escrowId:107,studentAddress:"0xStudent7",location:"Old Tbilisi",proposedTime:a+345600,timeIndex:0,payout:"0.008",teacherHandle:"teacherX",createdAt:a-300}]}]},w={args:{opportunities:h(),upcomingClasses:f(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD"}},C={args:{opportunities:[],teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD"}},k={args:{opportunities:[],upcomingClasses:f(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialTab:"upcoming"}},I={args:{opportunities:h(),upcomingClasses:f(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialTab:"opportunities"}},A={args:{opportunities:h(),upcomingClasses:f(),classHistory:[{escrowId:301,studentAddress:"0xStudent201",classTime:Math.floor(Date.now()/1e3)-86400,location:"Vake Park, Tbilisi",description:"Group yoga class booking",payout:"0.002266",acceptedAt:Math.floor(Date.now()/1e3)-9e4,status:"cancelled"},{escrowId:302,studentAddress:"0xStudent202",classTime:Math.floor(Date.now()/1e3)-172800,location:"Rustaveli Studio",description:"Power Yoga Session",payout:"0.004",acceptedAt:Math.floor(Date.now()/1e3)-18e4,status:"completed"}],teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialTab:"history"}},D={args:{opportunities:h(),upcomingClasses:f(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialFilter:"high-value"}},F={args:{opportunities:h(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialFilter:"group-classes"}},M={args:{opportunities:h(),teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD",initialSort:"amount"}},P={args:{opportunities:h().slice(0,2),teacherHandle:"@yoga_master"}},U={args:{opportunities:[...h(),...Array.from({length:5},(a,s)=>{const i=Math.floor(Date.now()/1e3),l=Math.random()>.5,o=l?Math.floor(Math.random()*3)+2:1,d=.002+Math.random()*.006;return{groupKey:`Location${s+8}-${i+(s+5)*86400}`,location:["Mtatsminda Park","Freedom Square","Rike Park","Turtle Lake","Botanical Garden"][s%5],proposedTime:i+(s+5)*86400,totalPayout:(d*o).toFixed(4),studentCount:o,isGroup:l,opportunities:Array.from({length:o},(v,c)=>({opportunityId:`${108+s*10+c}-teacherX-${c}`,escrowId:108+s*10+c,studentAddress:`0xStudent${8+s*10+c}`,location:["Mtatsminda Park","Freedom Square","Rike Park","Turtle Lake","Botanical Garden"][s%5],proposedTime:i+(s+5)*86400,timeIndex:c,payout:d.toFixed(4),teacherHandle:"teacherX",createdAt:i-(s+1)*300}))}})],teacherHandle:"@yoga_master",ethToFiatRate:2500,fiatCurrency:"USD"}};var X,L,K;w.parameters={...w.parameters,docs:{...(X=w.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    upcomingClasses: createMockUpcomingClasses(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD'
  }
}`,...(K=(L=w.parameters)==null?void 0:L.docs)==null?void 0:K.source}}};var E,B,Y;C.parameters={...C.parameters,docs:{...(E=C.parameters)==null?void 0:E.docs,source:{originalSource:`{
  args: {
    opportunities: [],
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD'
  }
}`,...(Y=(B=C.parameters)==null?void 0:B.docs)==null?void 0:Y.source}}};var W,z,J;k.parameters={...k.parameters,docs:{...(W=k.parameters)==null?void 0:W.docs,source:{originalSource:`{
  args: {
    opportunities: [],
    upcomingClasses: createMockUpcomingClasses(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialTab: 'upcoming'
  }
}`,...(J=(z=k.parameters)==null?void 0:z.docs)==null?void 0:J.source}}};var Q,Z,ee;I.parameters={...I.parameters,docs:{...(Q=I.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    upcomingClasses: createMockUpcomingClasses(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialTab: 'opportunities'
  }
}`,...(ee=(Z=I.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,ae,se;A.parameters={...A.parameters,docs:{...(te=A.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    upcomingClasses: createMockUpcomingClasses(),
    classHistory: [{
      escrowId: 301,
      studentAddress: '0xStudent201',
      classTime: Math.floor(Date.now() / 1000) - 86400,
      // Yesterday
      location: 'Vake Park, Tbilisi',
      description: 'Group yoga class booking',
      payout: '0.002266',
      acceptedAt: Math.floor(Date.now() / 1000) - 90000,
      status: 'cancelled' as const
    }, {
      escrowId: 302,
      studentAddress: '0xStudent202',
      classTime: Math.floor(Date.now() / 1000) - 172800,
      // 2 days ago
      location: 'Rustaveli Studio',
      description: 'Power Yoga Session',
      payout: '0.004',
      acceptedAt: Math.floor(Date.now() / 1000) - 180000,
      status: 'completed' as const
    }],
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialTab: 'history'
  }
}`,...(se=(ae=A.parameters)==null?void 0:ae.docs)==null?void 0:se.source}}};var re,ne,ie;D.parameters={...D.parameters,docs:{...(re=D.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    upcomingClasses: createMockUpcomingClasses(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialFilter: 'high-value'
  }
}`,...(ie=(ne=D.parameters)==null?void 0:ne.docs)==null?void 0:ie.source}}};var oe,le,ce;F.parameters={...F.parameters,docs:{...(oe=F.parameters)==null?void 0:oe.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialFilter: 'group-classes'
  }
}`,...(ce=(le=F.parameters)==null?void 0:le.docs)==null?void 0:ce.source}}};var de,ue,pe;M.parameters={...M.parameters,docs:{...(de=M.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities(),
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD',
    initialSort: 'amount'
  }
}`,...(pe=(ue=M.parameters)==null?void 0:ue.docs)==null?void 0:pe.source}}};var me,he,ye;P.parameters={...P.parameters,docs:{...(me=P.parameters)==null?void 0:me.docs,source:{originalSource:`{
  args: {
    opportunities: createMockOpportunities().slice(0, 2),
    teacherHandle: '@yoga_master'
  }
}`,...(ye=(he=P.parameters)==null?void 0:he.docs)==null?void 0:ye.source}}};var _e,ge,xe;U.parameters={...U.parameters,docs:{...(_e=U.parameters)==null?void 0:_e.docs,source:{originalSource:`{
  args: {
    opportunities: [...createMockOpportunities(),
    // Add more mock opportunities
    ...Array.from({
      length: 5
    }, (_, i) => {
      const baseTime = Math.floor(Date.now() / 1000);
      const isGroup = Math.random() > 0.5;
      const studentCount = isGroup ? Math.floor(Math.random() * 3) + 2 : 1;
      const baseAmount = 0.002 + Math.random() * 0.006;
      return {
        groupKey: \`Location\${i + 8}-\${baseTime + (i + 5) * 86400}\`,
        location: ['Mtatsminda Park', 'Freedom Square', 'Rike Park', 'Turtle Lake', 'Botanical Garden'][i % 5],
        proposedTime: baseTime + (i + 5) * 86400,
        totalPayout: (baseAmount * studentCount).toFixed(4),
        studentCount,
        isGroup,
        opportunities: Array.from({
          length: studentCount
        }, (_, j) => ({
          opportunityId: \`\${108 + i * 10 + j}-teacherX-\${j}\`,
          escrowId: 108 + i * 10 + j,
          studentAddress: \`0xStudent\${8 + i * 10 + j}\`,
          location: ['Mtatsminda Park', 'Freedom Square', 'Rike Park', 'Turtle Lake', 'Botanical Garden'][i % 5],
          proposedTime: baseTime + (i + 5) * 86400,
          timeIndex: j,
          payout: baseAmount.toFixed(4),
          teacherHandle: 'teacherX',
          createdAt: baseTime - (i + 1) * 300
        }))
      } as GroupedOpportunity;
    })],
    teacherHandle: '@yoga_master',
    ethToFiatRate: 2500,
    fiatCurrency: 'USD'
  }
}`,...(xe=(ge=U.parameters)==null?void 0:ge.docs)==null?void 0:xe.source}}};const Ke=["Default","EmptyState","OnlyUpcomingClasses","OpportunitiesTab","HistoryTab","HighValueFilter","GroupClassesFilter","SortByAmount","WithoutFiatRate","ManyOpportunities"];export{w as Default,C as EmptyState,F as GroupClassesFilter,D as HighValueFilter,A as HistoryTab,U as ManyOpportunities,k as OnlyUpcomingClasses,I as OpportunitiesTab,M as SortByAmount,P as WithoutFiatRate,Ke as __namedExportsOrder,Le as default};
